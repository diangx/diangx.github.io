{"version":3,"file":"js/post-nlbwmon.b49a6243.js","mappings":"8QACA,cACI,CACIA,KAAM,UACNC,MAAO,4BACPC,UAAW,oDACXC,IAAKC,EAAQ,MACbC,MAAM,GAEV,CACIL,KAAM,YACNC,MAAO,6BACPC,UAAW,uDACXC,IAAKC,EAAQ,MACbC,MAAM,G,oECdd,IAAIC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACX,KAAK,YAAYY,QAAQ,gBAAgBC,YAAY,kBAAkB,CAACJ,EAAG,KAAK,CAACI,YAAY,mBAAmB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,YAAYf,UAAUQ,EAAG,MAAM,CAACI,YAAY,QAAQ,CAACN,EAAIO,GAAG,oBAAoBL,EAAG,MAAMF,EAAIO,GAAG,mDAAmDL,EAAG,YAAY,CAACQ,MAAM,CAAC,SAAW,QAAQ,YAAc,sGAC9W,GAAGR,EAAG,MAAM,CAACI,YAAY,QAAQ,CAACN,EAAIO,GAAG,yBAAyBL,EAAG,YAAY,CAACQ,MAAM,CAAC,SAAW,QAAQ,YAAc,ksBAUxH,GAAGR,EAAG,MAAM,CAACI,YAAY,QAAQ,CAACN,EAAIO,GAAG,eAAeL,EAAG,YAAY,CAACQ,MAAM,CAAC,SAAW,QAAQ,YAAc,g8CAsBtK,GAAGR,EAAG,MAAM,CAACI,YAAY,QAAQ,CAACN,EAAIO,GAAG,cAAcL,EAAG,MAAMA,EAAG,YAAY,CAACQ,MAAM,CAAC,SAAW,QAAQ,YAAc,kwBAU1C,IACpF,EACIC,EAAkB,GC7ClBZ,G,eAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACX,KAAK,YAAYY,QAAQ,iBAAiB,CAACH,EAAG,MAAM,CAACI,YAAY,wDAAwD,CAACJ,EAAG,OAAO,CAACU,MAAM,CAAC,iBAAkB,YAAYZ,EAAIa,YAAYC,SAAS,CAAC,YAAcd,EAAIQ,GAAGR,EAAIe,mBACvT,GACIJ,EAAkB,GCKtB,GACAlB,KAAA,YACAuB,MAAA,CACAD,YAAA,CACAE,KAAAC,OACAC,UAAA,GAEAN,SAAA,CACAI,KAAAC,OACAE,QAAA,gBChBwP,I,UCOpPC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,E,kBC2Df,GACAC,WAAA,CAAAC,UAAAA,GACAC,IAAAA,GACA,OACAf,YAAA,GAEA,EACAgB,OAAAA,GACA,KAAAhB,YAAAiB,EAAAA,WAAAC,KAAAC,GAAA,YAAAA,EAAAnC,OAAA,EACA,GCtFsQ,ICOlQ,GAAY,OACd,EACAM,EACAY,GACA,EACA,KACA,KACA,MAIF,EAAe,E","sources":["webpack://diangx-git-io/./src/views/post/post.js","webpack://diangx-git-io/./src/views/post/nlbwmon/index.vue","webpack://diangx-git-io/./src/components/CodeBlock.vue","webpack://diangx-git-io/src/components/CodeBlock.vue","webpack://diangx-git-io/./src/components/CodeBlock.vue?9cad","webpack://diangx-git-io/./src/components/CodeBlock.vue?1033","webpack://diangx-git-io/src/views/post/nlbwmon/index.vue","webpack://diangx-git-io/./src/views/post/nlbwmon/index.vue?ba45","webpack://diangx-git-io/./src/views/post/nlbwmon/index.vue?a803"],"sourcesContent":["// src/post/projects.js\nexport default [\n    {\n        name: 'nlbwmon',\n        title: '[OpenWrt] nlbwmon package',\n        sub_title: 'Simple conntrack netlink based traffic accounting',\n        img: require('@/assets/img/card_nlbwmon.png'),\n        show: true\n    },\n    {\n        name: 'macfilter',\n        title: '[TODO] Wi-Fi MAC-Filtering',\n        sub_title: 'Register your Mac to control its connection to Wi-Fi',\n        img: require('@/assets/img/card_macfilter.png'),\n        show: true\n    }\n]\n  ","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],staticClass:\"container py-4\"},[_c('h2',{staticClass:\"mb-3 text-start\"},[_vm._v(_vm._s(_vm.config_data.title))]),_c('div',{staticClass:\"mb-3\"},[_vm._v(\" * Description *\"),_c('br'),_vm._v(\" Linux 라우터에서 날짜별 네트워크 대역폭 사용량을 측정 및 기록해 주는 패키지 \"),_c('CodeBlock',{attrs:{\"language\":\"shell\",\"codeContent\":`github.com/jow-/nlbwmon // reference code\nCONFIG_PACKAGE_nlbwmon=y // openwrt build  defconfig`}})],1),_c('div',{staticClass:\"mb-3\"},[_vm._v(\" * uci config 및 설명 * \"),_c('CodeBlock',{attrs:{\"language\":\"shell\",\"codeContent\":`config nlbwmon\n        option netlink_buffer_size 524288 // Netlink(conntrack) 수신 버퍼 크기(바이트)\n        option commit_interval 30s // 메모리 → 디스크 커밋 주기\n        option refresh_interval 30s // 활성 연결 카운터 갱신 주기\n        option database_compress '0' // 데이터베이스 파일 gzip 압축 여부 (0: 미압축, 1: 압축)\n        option database_directory /etc/nlbwmon // 데이터베이스 저장 디렉터리 경로\n        option database_generations 7 // 보관할 데이터베이스 세대 수\n        option database_limit 10000 // 한 파일당 저장할 최대 Flow(엔트리) 수 (0: 무제한)\n        option protocol_database /usr/share/nlbwmon/protocols // 포트·프로토콜 분류용 정의 파일 경로\n        list local_network '172.30.1.0/24' // 트래픽 계정 대상 로컬 네트워크 CIDR 목록\n        list local_network 'lan' // 트래픽 계정 대상 인터페이스 목록`}})],1),_c('div',{staticClass:\"mb-3\"},[_vm._v(\" * usage * \"),_c('CodeBlock',{attrs:{\"language\":\"shell\",\"codeContent\":`// 네트워크 사용시 uci database_directory 에 db 기록\nroot@:/etc/nlbwmon# ls -al\ndrwxr-xr-x    2 root     root           448 Jul 16 10:48 .\ndrwxr-xr-x    1 root     root          2232 Jul 15 17:13 ..\n-rw-r-----    1 root     root           184 Jul 15 21:47 20250709.db\n-rw-r-----    1 root     root           400 Jul 16 10:48 20250710.db\n-rw-r-----    1 root     root          3856 Jul 16 00:00 20250715.db\n-rw-r-----    1 root     root           328 Jul 16 10:52 20250716.db\n\n// db 파일 조회 방법\nroot@:/etc/nlbwmon# nlbw -c csv -g mac,ip -q -t 2025-07-15\nmac     ip      conns   rx_bytes        rx_pkts tx_bytes        tx_pkts\n42:0c:af:a4:05:7b       172.30.1.42     3671    58966158        53118   4353622 20659\na0:ce:c8:c7:e9:89       172.30.1.14     16340   54393598        73596   13959633        55981\n92:29:a4:aa:6a:ec       172.30.1.4      6972    40241302        40482   6430071 32270\n38:f3:ab:38:a9:2b       172.30.1.47     2147    274882  852     214019  1448\n92:29:a4:aa:6a:ec       2001:470:ffd0:4:6020:b79d:88ea:8282     24      39246   70      35960   81\n34:02:86:87:ef:61       172.30.1.6      157     13787   73      6904    93\n98:39:10:82:64:9c       172.30.1.254    894     9266    157     5440    170\n98:39:10:82:64:9c       2001:470:ffd0:4::1      2       272     2       158     2\n00:00:00:00:00:00       172.30.1.128    11      212     4       0       0\n98:39:10:82:64:9c       fd1c:3431:1273::1       2       0       0       158     2\n`}})],1),_c('div',{staticClass:\"mb-3\"},[_vm._v(\" * Debug *\"),_c('br'),_c('CodeBlock',{attrs:{\"language\":\"shell\",\"codeContent\":`// 기본적으로 네트워크가 정상동작 할때 프로세스가 동작함 (hotplug)\n// 옵션에 대한 동작은 init.d 에 있음\nroot@:/etc/nlbwmon# ps -ef | grep nlbwmon\nroot     16604     1  0 10:48 ?        00:00:00 /usr/sbin/nlbwmon -o /etc/nlbwmon -b 524288 -i 30s -r 30s -p /usr/share/nlbwmon/protocols -G 7 -I 2025-07-17/7 -L 10000 -s 172.30.1.0/24 -s 172.30.1.254/24 -s 2001:470:ffd0:4::1/62 -s fd1c:3431:1273::1/60\n\n// 특정 인터페이스 사용량 만들기\n// en6 interface 100MB 생성 명령어\nkimjiwan@mini ~ % curl --interface en6 -o /dev/null http://ipv4.download.thinkbroadband.com/100MB.zip\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  100M  100  100M    0     0   481k      0  0:03:32  0:03:32 --:--:--  556k`}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_c('pre',{staticClass:\"bg-light border rounded overflow-auto text-start m-0\"},[_c('code',{class:['font-monospace', `language-${_vm.language}`],domProps:{\"textContent\":_vm._s(_vm.codeContent)}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-highlight>\n        <pre class=\"bg-light border rounded overflow-auto text-start m-0\"><code :class=\"['font-monospace', `language-${language}`]\" v-text=\"codeContent\"></code></pre>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'CodeBlock',\n    props: {\n        codeContent: {\n            type: String,\n            required: true\n        },\n        language: {\n            type: String,\n            default: 'javascript'\n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CodeBlock.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CodeBlock.vue?vue&type=template&id=dc359e32\"\nimport script from \"./CodeBlock.vue?vue&type=script&lang=js\"\nexport * from \"./CodeBlock.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"container py-4\" v-highlight>\n        <h2 class=\"mb-3 text-start\">{{ config_data.title }}</h2>\n            <div class=\"mb-3\">\n                * Description *<br>\n                Linux 라우터에서 날짜별 네트워크 대역폭 사용량을 측정 및 기록해 주는 패키지\n                <CodeBlock language=\"shell\" :codeContent=\"\n`github.com/jow-/nlbwmon // reference code\nCONFIG_PACKAGE_nlbwmon=y // openwrt build  defconfig`\"/>\n            </div>\n\n            <div class=\"mb-3\">\n                * uci config 및 설명 *\n                <CodeBlock language=\"shell\" :codeContent=\"\n`config nlbwmon\n        option netlink_buffer_size 524288 // Netlink(conntrack) 수신 버퍼 크기(바이트)\n        option commit_interval 30s // 메모리 → 디스크 커밋 주기\n        option refresh_interval 30s // 활성 연결 카운터 갱신 주기\n        option database_compress '0' // 데이터베이스 파일 gzip 압축 여부 (0: 미압축, 1: 압축)\n        option database_directory /etc/nlbwmon // 데이터베이스 저장 디렉터리 경로\n        option database_generations 7 // 보관할 데이터베이스 세대 수\n        option database_limit 10000 // 한 파일당 저장할 최대 Flow(엔트리) 수 (0: 무제한)\n        option protocol_database /usr/share/nlbwmon/protocols // 포트·프로토콜 분류용 정의 파일 경로\n        list local_network '172.30.1.0/24' // 트래픽 계정 대상 로컬 네트워크 CIDR 목록\n        list local_network 'lan' // 트래픽 계정 대상 인터페이스 목록`\"/>\n            </div>\n\n            <div class=\"mb-3\">\n                * usage *\n                <CodeBlock language=\"shell\" :codeContent=\"\n`// 네트워크 사용시 uci database_directory 에 db 기록\nroot@:/etc/nlbwmon# ls -al\ndrwxr-xr-x    2 root     root           448 Jul 16 10:48 .\ndrwxr-xr-x    1 root     root          2232 Jul 15 17:13 ..\n-rw-r-----    1 root     root           184 Jul 15 21:47 20250709.db\n-rw-r-----    1 root     root           400 Jul 16 10:48 20250710.db\n-rw-r-----    1 root     root          3856 Jul 16 00:00 20250715.db\n-rw-r-----    1 root     root           328 Jul 16 10:52 20250716.db\n\n// db 파일 조회 방법\nroot@:/etc/nlbwmon# nlbw -c csv -g mac,ip -q -t 2025-07-15\nmac     ip      conns   rx_bytes        rx_pkts tx_bytes        tx_pkts\n42:0c:af:a4:05:7b       172.30.1.42     3671    58966158        53118   4353622 20659\na0:ce:c8:c7:e9:89       172.30.1.14     16340   54393598        73596   13959633        55981\n92:29:a4:aa:6a:ec       172.30.1.4      6972    40241302        40482   6430071 32270\n38:f3:ab:38:a9:2b       172.30.1.47     2147    274882  852     214019  1448\n92:29:a4:aa:6a:ec       2001:470:ffd0:4:6020:b79d:88ea:8282     24      39246   70      35960   81\n34:02:86:87:ef:61       172.30.1.6      157     13787   73      6904    93\n98:39:10:82:64:9c       172.30.1.254    894     9266    157     5440    170\n98:39:10:82:64:9c       2001:470:ffd0:4::1      2       272     2       158     2\n00:00:00:00:00:00       172.30.1.128    11      212     4       0       0\n98:39:10:82:64:9c       fd1c:3431:1273::1       2       0       0       158     2\n`\"/>\n            </div>\n\n            <div class=\"mb-3\">\n                * Debug *<br>\n                <CodeBlock language=\"shell\" :codeContent=\"\n`// 기본적으로 네트워크가 정상동작 할때 프로세스가 동작함 (hotplug)\n// 옵션에 대한 동작은 init.d 에 있음\nroot@:/etc/nlbwmon# ps -ef | grep nlbwmon\nroot     16604     1  0 10:48 ?        00:00:00 /usr/sbin/nlbwmon -o /etc/nlbwmon -b 524288 -i 30s -r 30s -p /usr/share/nlbwmon/protocols -G 7 -I 2025-07-17/7 -L 10000 -s 172.30.1.0/24 -s 172.30.1.254/24 -s 2001:470:ffd0:4::1/62 -s fd1c:3431:1273::1/60\n\n// 특정 인터페이스 사용량 만들기\n// en6 interface 100MB 생성 명령어\nkimjiwan@mini ~ % curl --interface en6 -o /dev/null http://ipv4.download.thinkbroadband.com/100MB.zip\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  100M  100  100M    0     0   481k      0  0:03:32  0:03:32 --:--:--  556k`\"/>\n            </div>\n    </div>\n</template>\n\n<script>\nimport CodeBlock from '@/components/CodeBlock.vue'\nimport posts from '../post.js'\n\nexport default {\n    components: { CodeBlock },\n    data() {\n        return {\n            config_data : {}\n        }\n    },\n    mounted(){\n        this.config_data = posts.find(p => p.name === 'nlbwmon') || {};\n    }\n}\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a7a2820a\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["name","title","sub_title","img","require","show","render","_vm","this","_c","_self","directives","rawName","staticClass","_v","_s","config_data","attrs","staticRenderFns","class","language","domProps","codeContent","props","type","String","required","default","component","components","CodeBlock","data","mounted","posts","find","p"],"sourceRoot":""}